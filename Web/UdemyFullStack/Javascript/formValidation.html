<!DOCTYPE html>
<html>
	<head>
		<title>JavaScript | Form Validation</title>
		<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css">
	</head>
	<body>
		<div class="container">
			<h1 class="text-center">Register With Us</h1>
			<div class="alert" id="msg"></div>
			<form id="regForm">
			  <div class="form-group">
			    <label>Name</label>
			    <input type="text" class="form-control" id="name" name="name">
			  </div>
			  <div class="form-group">
			    <label>Email</label>
			    <input type="text" class="form-control" id="email" name="email">
			  </div>
			  <div class="form-group">
			    <label>Password</label>
			    <input type="password" class="form-control" id="password" name="password">
			  </div>
			  <div class="form-group">
			    <label>Confirm Password</label>
			    <input type="password" class="form-control" id="password2" name="password2">
			  </div>
			  <button type="submit" class="btn btn-default">Submit</button>
			</form>
		</div>

		<script type="text/javascript">
			function register(e) {
				e.preventDefault();
				var name = document.getElementById('name').value;
				var email = document.getElementById('email').value;
				var password = document.getElementById('password').value;
				var password2 = document.getElementById('password2').value;
				var msg = document.getElementById('msg');

				if(name == '' || email == '' || password == '' || password2 == '') {
					msg.className = "alert alert-danger";
					msg.innerHTML = 'Please fill out all fields.';
				} else {
					if(name.length < 2) {
						msg.className = "alert alert-danger";
						msg.innerHTML = 'Name must be at least 2 characters.';
					} else {
						var atpos = email.indexOf("@");
						var dotpos = email.lastIndexOf(".");
						if(atpos < 1 || dotpos + 2 >= email.length) {
							msg.className = "alert alert-danger";
							msg.innerHTML = 'Please use valid email.';
						} else {
							if(password != password2) {
								msg.className = "alert alert-danger";
								msg.innerHTML = 'Passwords do not match.';
							} else {
								msg.className = "alert alert-success";
								msg.innerHTML = name + ' is registered with email ' + email + '.';
							}
						}
					}
				}
			}

			document.getElementById('regForm').addEventListener('submit', register, false);
		</script>
	</body>
</html>